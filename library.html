<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Библиотека | Современник</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="library.css">
    
    <!-- НОВОГОДНЯЯ ТЕМА (Стили) -->
    <link rel="stylesheet" href="new-year.css">

    <link rel="icon" href="assets/images/favicon.svg" type="image/svg+xml">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <div class="header-fluid">
            <a href="index.html" class="logo-link">
                <img src="assets/images/logo.svg" alt="Кинотеатр Современник" class="logo-img">
            </a>
            <nav class="nav-links">
                <a href="index.html">О нас</a>
                <a href="schedule.html">Расписание</a>
                <a href="library.html" class="active">Фильмы</a>
                <a href="rules.html">Правила</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="library-header">
            <h1 class="page-title">Библиотека фильмов</h1>
        </div>

        <div class="library-toolbar">
            <div class="toolbar-top">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Поиск фильма, режиссера...">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </div>

                <div class="sort-container">
                    <span class="sort-label">Сортировка:</span>
                    <div class="custom-select-wrapper">
                        <div class="custom-select">
                            <div class="custom-select__trigger">
                                <span>Сначала новые</span>
                            </div>
                            <div class="custom-options">
                                <span class="custom-option selected" data-value="newest">Сначала новые</span>
                                <span class="custom-option" data-value="rating_high">По рейтингу (Высокий)</span>
                                <span class="custom-option" data-value="rating_low">По рейтингу (Низкий)</span>
                                <span class="custom-option" data-value="oldest">Сначала старые</span>
                                <span class="custom-option" data-value="az">По названию (А-Я)</span>
                                <span class="custom-option" data-value="za">По названию (Я-А)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="genres-scroll-area">
                <div class="genres-wrapper" id="genresContainer"></div>
            </div>
        </div>

        <div class="library-grid" id="libraryContainer">
            <p style="color: #64748b; font-size: 1.2rem; text-align: center; margin-top: 50px;">Загрузка библиотеки...</p>
        </div>
    </main>

    <!-- МОДАЛЬНОЕ ОКНО (С БИЛЕТАМИ + ОПИСАНИЕ В ЦЕНТРЕ) -->
    <div id="movieInfoModal" class="modal">
        <div class="modal-content info-modal-content">
            <div class="modal-backdrop-blur"></div>
            <div class="modal-gradient-overlay"></div>
            <span class="close-btn info-close-btn" style="z-index: 20;">&times;</span>
            
            <div class="info-modal-body">
                <div class="info-layout">
                    
                    <!-- 1. Постер (Высокий) -->
                    <div class="info-col-visual">
                        <img id="infoPoster" src="" alt="Poster" style="width: 100%; border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.6);">
                        <h2 id="infoTitle" class="info-main-title"></h2>
                        <div id="infoTags" class="row-meta centered-meta" style="justify-content: center; flex-wrap: wrap; display:flex; gap:10px;"></div>
                    </div>

                    <!-- 2. Центр: Трейлер + ОПИСАНИЕ -->
                    <div class="info-col-trailer">
                        <div class="media-container" id="mediaContainer"></div>
                        <div class="media-counter" id="mediaCounter"></div>
                        <button class="slider-arrow prev" id="prevMediaBtn" style="position:absolute; top:30%; left:20px; z-index:10;">❮</button>
                        <button class="slider-arrow next" id="nextMediaBtn" style="position:absolute; top:30%; right:20px; z-index:10;">❯</button>
                        
                        <!-- ОПИСАНИЕ ЗДЕСЬ -->
                        <div id="infoDesc" class="glass-panel description-text"></div>
                    </div>

                    <!-- 3. Право: Характеристики + Билеты -->
                    <div class="info-col-data">
                        <div class="glass-panel">
                            <div class="spec-row"><span class="spec-label">Рейтинг:</span><span class="spec-value rating-val" id="infoRating"></span></div>
                            <div class="spec-row"><span class="spec-label">Год:</span><span class="spec-value" id="infoYear"></span></div>
                            <div class="spec-row"><span class="spec-label">Страна:</span><span class="spec-value" id="infoCountry"></span></div>
                            <div class="spec-row"><span class="spec-label">Режиссер:</span><span class="spec-value" id="infoDirector"></span></div>
                            <div class="spec-row"><span class="spec-label">Время:</span><span class="spec-value" id="infoDuration"></span></div>
                            <div class="spec-row"><span class="spec-label">MPAA:</span><span class="spec-value spec-badge" id="infoMpaa"></span></div>
                        </div>

                        <!-- Блок билетов -->
                        <div class="glass-panel">
                            <div class="panel-title">Ближайшие сеансы</div>
                            <div id="miniScheduleContainer" class="mini-schedule-list"></div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <div class="footer-info">
                <p class="copyright">© 2005 — 2025, Кинотеатр «Современник»</p>
                <a href="index.html#location-map" class="address-link">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z" fill="currentColor"/></svg>
                    <span>Ленинградская обл., г. Сосновый Бор, ул. Комсомольская, д. 17</span>
                </a>
            </div>
            <div class="footer-socials">
                <a href="https://vk.com/sushikinno" target="_blank" class="social-btn vk-btn"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.0729 15.6001C14.4927 15.6001 13.9186 15.4246 12.3995 14.5442C10.7441 13.5684 8.78311 11.2323 7.02796 7.44H9.42236C9.91921 9.47192 10.9575 11.2403 11.5367 11.2403C11.724 11.2403 12.0163 10.9892 12.0163 10.1504V7.44H14.1953V9.38708C14.1953 9.69708 15.1189 9.60877 15.4542 9.27138C16.4883 8.30754 17.2015 7.44 17.2015 7.44H19.3333C19.3333 7.44 18.9959 8.75077 17.728 9.94754C16.6346 11.054 16.5146 11.3552 17.653 12.5694C18.9631 14.0454 19.5398 15.6001 19.5398 15.6001H17.2015C16.6214 15.6001 16.1264 15.2577 15.5463 14.5442C15.2238 14.1205 14.8143 13.7937 14.5822 13.7937C14.2834 13.7937 14.1953 13.9032 14.1953 14.3983V15.6001H15.0729Z" fill="white"/></svg></a>
                <a href="https://t.me/sushikinno" target="_blank" class="social-btn tg-btn"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.665 3.33332L3.33331 10C3.33331 10 0.666645 11.1111 2.88887 12.2222L7.33331 13.7778L17.5555 6.88887L9.55553 14.4444L9.33331 18.6667L12.8889 15.3333L16.6666 18.2222C16.6666 18.2222 19.1111 19.5555 19.7778 14L21.3333 4.22221C21.3333 4.22221 21.5555 2.88887 20.665 3.33332Z" fill="white"/></svg></a>
            </div>
        </div>
    </footer>

    <script src="library.js"></script>
    
    <!-- НОВОГОДНЯЯ ТЕМА (Логика и Снег) -->
    <script src="theme.js"></script>
</body>
</html>

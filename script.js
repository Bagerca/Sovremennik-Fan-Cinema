// script.js

document.addEventListener('alpine:init', () => {
    
    // 1. Логика для шапки (Header)
    Alpine.data('headerLogic', () => ({
        scrolled: false,
        mobileMenu: false,

        init() {
            // Проверка при загрузке страницы
            this.handleScroll();
        },

        handleScroll() {
            this.scrolled = window.pageYOffset > 50;
        },

        toggleMenu() {
            this.mobileMenu = !this.mobileMenu;
        }
    }));

    // 2. Логика для Аккордеона правил (Rules)
    Alpine.data('rulesAccordion', () => ({
        active: 1, // По умолчанию открыт первый пункт
        items: [
            {
                id: 1,
                title: 'Покупка и возврат билетов',
                text: 'Билеты можно приобрести на сайте или в кассе. Возврат средств осуществляется не позднее, чем за 30 минут до начала сеанса. Электронные билеты не требуют распечатки, просто покажите QR-код со смартфона.'
            },
            {
                id: 2,
                title: 'Дресс-код и поведение',
                text: 'Мы поддерживаем атмосферу комфорта. Просьба воздержаться от использования телефонов во время сеанса (даже на минимальной яркости). Громкие разговоры и съемка экрана запрещены.'
            },
            {
                id: 3,
                title: 'Возрастные ограничения',
                text: 'Администрация вправе запросить документ, подтверждающий возраст, если рейтинг фильма 16+ или 18+. Строгое соблюдение закона о защите детей от информации.'
            },
            {
                id: 4,
                title: 'Кинобар',
                text: 'Вход со своей едой запрещен. В нашем баре представлен широкий выбор напитков и фирменный попкорн с редкими вкусами (трюфель, карамель-чили).'
            }
        ],

        toggle(id) {
            // Если нажали на уже открытый - закрываем (null), иначе открываем новый ID
            this.active = (this.active === id ? null : id);
        }
    }));
});
